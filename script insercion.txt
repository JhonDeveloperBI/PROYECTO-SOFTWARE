
CREATE TABLE Administrador
  (
    id       INTEGER NOT NULL ,
    nombre   VARCHAR2 (255) ,
    username VARCHAR2 (255) NOT NULL ,
    telefono VARCHAR2 (255) ,
    correo   VARCHAR2 (255) ,
    password VARCHAR2 (255)
  ) ;
ALTER TABLE Administrador ADD CONSTRAINT Administrador_PK PRIMARY KEY ( id ) ;


CREATE TABLE CalificacionEstablecimiento
  (
    idCalificacion     INTEGER NOT NULL ,
    puntoscalificacion INTEGER ,
    comentario         VARCHAR (255) ,
    Establecimiento    INTEGER NOT NULL
  ) ;
ALTER TABLE CalificacionEstablecimiento ADD CONSTRAINT Calificacion_PK PRIMARY KEY ( idCalificacion ) ;


//CREO QUE SERIA BUENO AGREGAR HORA DE ATENCION AL PUBLICO
CREATE TABLE Establecimientos
  (
    idEstablecimiento INTEGER NOT NULL AUTO_INCREMENT,
    nombre            VARCHAR (255) ,
    direccion         VARCHAR (255) ,
    telefono          VARCHAR (255) ,
    descripcion       VARCHAR (255) ,
    hora              VARCHAR (255) ,
    UbicacionGps      VARCHAR (255) ,
    Administrador     INTEGER NOT NULL
  ) ;
ALTER TABLE Establecimientos ADD CONSTRAINT Establecimientos_PK PRIMARY KEY ( idEstablecimiento ) ;


CREATE TABLE Usuario
  (
    idusuario     INTEGER NOT NULL ,
    nombre        VARCHAR (255) ,
    correo        VARCHAR (255) ,
    password      VARCHAR (255) ,
    Administrador INTEGER NOT NULL
  ) ;
ALTER TABLE Usuario ADD CONSTRAINT Usuarios_PK PRIMARY KEY ( idusuario ) ;


ALTER TABLE CalificacionEstablecimiento ADD CONSTRAINT Califica_Establecimientos_FK FOREIGN KEY ( Establecimiento ) REFERENCES Establecimientos ( idEstablecimiento ) ;

ALTER TABLE Establecimientos ADD CONSTRAINT Esta_Admin_FK FOREIGN KEY ( Administrador ) REFERENCES Administrador ( id ) ;

ALTER TABLE Usuario ADD CONSTRAINT Usuario_Administrador_FK FOREIGN KEY ( Administrador ) REFERENCES Administrador ( id ) ;

------------------------------------------------------------------------------------------------------------------



INSERT INTO software.administrador values(1,'jhon','jhonSoftware','3162953628','ramirescortes@hotmail.com','12345') 

insert into software.establecimientos values (1,'norte ricura','Calle 12 Norte #14-15 a 14-105','3162923232','venta de toda clase de comida','8:00 AM A 6:00 PM'4.552070, -75.658779',1);


insert into software.establecimientos values (2,'la fogata','Avenida Bol√≠var 14 #Norte 39','+57 67495501','restaurante familiar','12:00 PM A 10:00 PM','4.553822, -75.657758 ',1);
